<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 630" width="1200" height="630">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="50%" style="stop-color:#1e293b"/>
      <stop offset="100%" style="stop-color:#0f172a"/>
    </linearGradient>
    <linearGradient id="inputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#1d4ed8"/>
    </linearGradient>
    <linearGradient id="embedGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="100%" style="stop-color:#6d28d9"/>
    </linearGradient>
    <linearGradient id="vectorGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <linearGradient id="docsGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="contextGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ec4899"/>
      <stop offset="100%" style="stop-color:#be185d"/>
    </linearGradient>
    <linearGradient id="llmGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1"/>
      <stop offset="100%" style="stop-color:#4338ca"/>
    </linearGradient>
    <linearGradient id="outputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#06b6d4"/>
      <stop offset="100%" style="stop-color:#0891b2"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000" flood-opacity="0.3"/>
    </filter>
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1200" height="630" fill="url(#bgGrad)"/>

  <!-- Grid pattern -->
  <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#334155" stroke-width="0.5" opacity="0.3"/>
  </pattern>
  <rect width="1200" height="630" fill="url(#grid)"/>

  <!-- Title -->
  <text x="600" y="60" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="36" font-weight="700" fill="#f8fafc">
    Retrieval-Augmented Generation (RAG)
  </text>
  <text x="600" y="95" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="18" fill="#94a3b8">
    Architecture Pipeline
  </text>

  <!-- Connection lines -->
  <g stroke="#475569" stroke-width="3" fill="none" stroke-linecap="round">
    <!-- Query to Embedding -->
    <path d="M 195 315 L 280 315" marker-end="url(#arrowhead)"/>
    <!-- Embedding to Vector DB -->
    <path d="M 410 315 L 495 315" marker-end="url(#arrowhead)"/>
    <!-- Vector DB to Docs -->
    <path d="M 625 315 L 710 315" marker-end="url(#arrowhead)"/>
    <!-- Docs to Context -->
    <path d="M 840 315 L 840 420 L 600 420" marker-end="url(#arrowhead)"/>
    <!-- Query to Context (curved) -->
    <path d="M 130 375 L 130 420 L 470 420" marker-end="url(#arrowhead)"/>
    <!-- Context to LLM -->
    <path d="M 600 480 L 600 520 L 840 520 L 840 375" marker-end="url(#arrowhead)"/>
    <!-- LLM to Output -->
    <path d="M 970 315 L 1055 315" marker-end="url(#arrowhead)"/>
  </g>

  <!-- Arrowhead marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#475569"/>
    </marker>
  </defs>

  <!-- Node 1: User Query -->
  <g filter="url(#shadow)">
    <rect x="65" y="255" width="130" height="120" rx="12" fill="url(#inputGrad)"/>
    <text x="130" y="305" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">User</text>
    <text x="130" y="325" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Query</text>
    <text x="130" y="355" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#bfdbfe">INPUT</text>
  </g>

  <!-- Node 2: Embedding Model -->
  <g filter="url(#shadow)">
    <rect x="280" y="255" width="130" height="120" rx="12" fill="url(#embedGrad)"/>
    <text x="345" y="305" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Embedding</text>
    <text x="345" y="325" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Model</text>
    <text x="345" y="355" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#ddd6fe">VECTORIZE</text>
  </g>

  <!-- Node 3: Vector Database -->
  <g filter="url(#shadow)">
    <rect x="495" y="255" width="130" height="120" rx="12" fill="url(#vectorGrad)"/>
    <text x="560" y="305" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Vector</text>
    <text x="560" y="325" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Database</text>
    <text x="560" y="355" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#fef3c7">SEARCH</text>
  </g>

  <!-- Node 4: Retrieved Documents -->
  <g filter="url(#shadow)">
    <rect x="710" y="255" width="130" height="120" rx="12" fill="url(#docsGrad)"/>
    <text x="775" y="305" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Retrieved</text>
    <text x="775" y="325" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Documents</text>
    <text x="775" y="355" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#d1fae5">TOP-K</text>
  </g>

  <!-- Node 5: Context + Query -->
  <g filter="url(#shadow)">
    <rect x="470" y="400" width="130" height="80" rx="12" fill="url(#contextGrad)"/>
    <text x="535" y="435" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Context</text>
    <text x="535" y="455" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">+ Query</text>
  </g>

  <!-- Node 6: LLM -->
  <g filter="url(#shadow)">
    <rect x="840" y="255" width="130" height="120" rx="12" fill="url(#llmGrad)"/>
    <text x="905" y="305" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Large</text>
    <text x="905" y="325" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Language Model</text>
    <text x="905" y="355" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#e0e7ff">GENERATE</text>
  </g>

  <!-- Node 7: Response -->
  <g filter="url(#shadow)">
    <rect x="1005" y="255" width="130" height="120" rx="12" fill="url(#outputGrad)"/>
    <text x="1070" y="305" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Generated</text>
    <text x="1070" y="325" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#fff">Response</text>
    <text x="1070" y="355" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#cffafe">OUTPUT</text>
  </g>

  <!-- Labels on connections -->
  <text x="237" y="300" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">query</text>
  <text x="452" y="300" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">vector</text>
  <text x="667" y="300" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">top-k</text>
  <text x="1012" y="300" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">answer</text>

  <!-- Footer -->
  <text x="600" y="590" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" fill="#64748b">
    Combining retrieval with generation for accurate, contextual AI responses
  </text>
</svg>
